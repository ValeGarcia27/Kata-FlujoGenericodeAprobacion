(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{688:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,formatearFecha:()=>d});var i=r(5155),s=r(2115),c=r(3464);r(3318);var l=r(6874),n=r.n(l);function a(){let[e,t]=(0,s.useState)([]);return(0,s.useEffect)(()=>{c.A.get("/api/solicitudes").then(e=>t(e.data.solicitudes)).catch(e=>console.error("Error al obtener solicitudes:",e))},[]),(0,s.useEffect)(()=>{"aprobador"!==localStorage.getItem("rol")&&router.push("/login")},[]),(0,i.jsxs)("div",{className:"historial-container",children:[(0,i.jsx)("h1",{children:"Historial General de Solicitudes"}),0===e.length?(0,i.jsx)("p",{children:"No hay solicitudes registradas."}):(0,i.jsxs)("table",{className:"historial-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"T\xedtulo"}),(0,i.jsx)("th",{children:"Descripci\xf3n"}),(0,i.jsx)("th",{children:"Solicitante"}),(0,i.jsx)("th",{children:"Responsable"}),(0,i.jsx)("th",{children:"Estado"}),(0,i.jsx)("th",{children:"Fecha de Creaci\xf3n"}),(0,i.jsx)("th",{children:"Fecha \xdaltima Acci\xf3n"}),(0,i.jsx)("th",{children:"Comentario"})]})}),(0,i.jsx)("tbody",{children:e.map((e,t)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.titulo}),(0,i.jsx)("td",{children:e.descripcion}),(0,i.jsx)("td",{children:e.solicitante}),(0,i.jsx)("td",{children:e.responsable}),(0,i.jsx)("td",{children:e.estado}),(0,i.jsx)("td",{children:d(e.fecha_creacion)}),(0,i.jsx)("td",{children:d(e.ultima_fecha)}),(0,i.jsx)("td",{children:e.ultimo_comentario||"—"})]},t))})]}),(0,i.jsx)(n(),{href:"/aprobador",children:(0,i.jsx)("button",{className:"boton-volver",children:(0,i.jsx)("img",{src:"https://png.pngtree.com/png-clipart/20190705/original/pngtree-arrow-left-vector-icon-png-image_4279219.jpg",alt:"Volver"})})})]})}function d(e){if(!e)return"—";let t=e.match(/^(\d{4}-\d{2}-\d{2})T(\d{2}:\d{2}:\d{2})/);if(!t)return e;let[,r,i]=t;return"".concat(r," ").concat(i)}},3318:()=>{},5915:(e,t,r)=>{Promise.resolve().then(r.bind(r,688))}},e=>{e.O(0,[359,464,874,441,964,358],()=>e(e.s=5915)),_N_E=e.O()}]);